# Домашнее задание к занятию 1. «Типы и структура СУБД»

## Задача 1
>
> Архитектор ПО решил проконсультироваться у вас, какой тип БД 
> лучше выбрать для хранения определённых данных.
> 
> Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:
> 
> - электронные чеки в json-виде,
> - склады и автомобильные дороги для логистической компании,
> - генеалогические деревья,
> - кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,
> - отношения клиент-покупка для интернет-магазина.
> 
> Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

### Решение 1

> - электронные чеки в json-виде

документо-ориентированная - сущности базы и есть документы

> - склады и автомобильные дороги для логистической компании

графовая - как показывающая взаимодействие складов и связей между ними (дороги)

> - генеалогические деревья

иерархическая - фактически и есть "генеалогическое" дерево

> - кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации

ключ-значение - удобно сопоставлять

> - отношения клиент-покупка для интернет-магазина

реляционная - таблицы покупок и связи с таблицами клиентов

## Задача 2
> 
> Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно 
> CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
> (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):
> 
> - данные записываются на все узлы с задержкой до часа (асинхронная запись);
> - при сетевых сбоях система может разделиться на 2 раздельных кластера;
> - система может не прислать корректный ответ или сбросить соединение.
> 
> Согласно PACELC-теореме как бы вы классифицировали эти реализации?

### Решение 2
> - данные записываются на все узлы с задержкой до часа (асинхронная запись);

CAP:    CA
PACELC: PAEL

> - при сетевых сбоях система может разделиться на 2 раздельных кластера;

CAP:    AP
PACELC: PAEL

> - система может не прислать корректный ответ или сбросить соединение.

CAP:    CP
PACELC: PCEC


## Задача 3

> Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

### Решение 3 

В полной мере это невозможно т.к. одна система противоречит другой (ACID согласованность и верность данных, BASE - ответ полученный может быть не верен). Но пытаться сочеетать два подхода с допущениями или, возможно, переключения режимов - почему нет?

## Задача 4

> Вам дали задачу написать системное решение, основой которого бы послужили:
>
> - фиксация некоторых значений с временем жизни,
> - реакция на истечение таймаута.
> 
> Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. 
> Что это за система? Какие минусы выбора этой системы?

### Решение 4

И так в задании говорится о Redis - что может использоваться как БД, так и как кэш-система или брокер
сообщений, а данным присваивать Time-To-Live. Высокая производительность, за счет хранения данных в память. Низкая надежность за счет этого же. Идеально использовать в рамках кэша или как модуль микросервисной архитектуры. Если смотреть в сторону pub/sub, то база данных не хранит сообщения у себя, отправляет подписчикам и удаляет. Надежность не самая сильная сторона. 