# Домашнее задание к занятию Troubleshooting

### Цель задания

Устранить неисправности при деплое приложения.

---

<details><summary>  Чеклист готовности к домашнему заданию </summary>

Кластер K8s.
</details>
<details><summary> Правила приёма работы </summary>

1. Домашняя работа оформляется в своём Git-репозитории в файле README.md. Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.
2. Файл README.md должен содержать скриншоты вывода необходимых команд, а также скриншоты результатов.
3. Репозиторий должен содержать тексты манифестов или ссылки на них в файле README.md.
</details>

---

### Задание. При деплое приложение web-consumer не может подключиться к auth-db. Необходимо это исправить

>1. Установить приложение по команде:
>```shell
>kubectl apply -f https://raw.githubusercontent.com/netology-code/kuber-homeworks/main/3.5/files/task.yaml
>```
Запускаем команду, вносим необходимые изменения в нашем кластере и устанавливаем приложение

<p align="center">
  <img  src=".//scr/1.jpg">
</p>

>2. Выявить проблему и описать.

Смотрим что у нас с нашими подами - проблема с подом в web

<p align="center">
  <img  src=".//scr/2.jpg">
</p>

Проблема, что под не может разрешить имя **auth-db**

>3. Исправить проблему, описать, что сделано.

Решение проблемы в корректном указании имен.

Для этого потребуется модифицировать манифест изначальный манифест.
В нем указывается строчка: 
```shell
    - while true; do curl auth-db; sleep 5; done
```

Меняем ее на:
```shell
    - while true; do curl auth-db.data; sleep 5; done
```

>4. Продемонстрировать, что проблема решена.

Применяем измененный манифест и смотрим результат

<p align="center">
  <img  src=".//scr/3.jpg">
</p>